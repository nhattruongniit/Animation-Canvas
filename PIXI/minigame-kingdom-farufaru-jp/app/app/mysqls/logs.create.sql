/**
 *  
 */
CREATE TABLE IF NOT EXISTS `logs` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `uri` varchar(190) NOT NULL,
  `method` varchar(190) NOT NULL,
  `ip` varchar(190) NOT NULL,
  `created_at` int(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`, `created_at`),
  KEY on_uri_and_method_and_ip_and_created_at (`uri`, `method`, `ip`, `created_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE utf8mb4_bin ROW_FORMAT=DYNAMIC PARTITION BY RANGE(created_at) (
  PARTITION p201703 VALUES LESS THAN (UNIX_TIMESTAMP('2017-03-01')),
  PARTITION p201706 VALUES LESS THAN (UNIX_TIMESTAMP('2017-06-01')),
  PARTITION p201709 VALUES LESS THAN (UNIX_TIMESTAMP('2017-09-01')),
  PARTITION p201712 VALUES LESS THAN (UNIX_TIMESTAMP('2017-12-01')),
  PARTITION p201803 VALUES LESS THAN (UNIX_TIMESTAMP('2018-03-01')),
  PARTITION p201806 VALUES LESS THAN (UNIX_TIMESTAMP('2018-06-01')),
  PARTITION p201809 VALUES LESS THAN (UNIX_TIMESTAMP('2018-09-01')),
  PARTITION p201812 VALUES LESS THAN (UNIX_TIMESTAMP('2018-12-01')),
  PARTITION p201903 VALUES LESS THAN (UNIX_TIMESTAMP('2019-03-01')),
  PARTITION p201906 VALUES LESS THAN (UNIX_TIMESTAMP('2019-06-01')),
  PARTITION p201909 VALUES LESS THAN (UNIX_TIMESTAMP('2019-09-01')),
  PARTITION p201912 VALUES LESS THAN (UNIX_TIMESTAMP('2019-12-01')),
  PARTITION p202003 VALUES LESS THAN (UNIX_TIMESTAMP('2020-03-01')),
  PARTITION p202006 VALUES LESS THAN (UNIX_TIMESTAMP('2020-06-01')),
  PARTITION p202009 VALUES LESS THAN (UNIX_TIMESTAMP('2020-09-01')),
  PARTITION p202012 VALUES LESS THAN (UNIX_TIMESTAMP('2020-12-01'))
);
